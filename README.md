# Тестовое задание для школы Node.js Яндекса

## Задача:
Необходимо реализовать html-страницу с разметкой, логикой поведения и предоставлением глобального js-объекта с методами, описанными в п.1,2,3

### 1. Разметка
На странице должна быть задана html-форма с id="myForm", внутри которой содержатся
* Инпуты
  * ФИО (name="fio"),
  * Email (name="email"),
  * Телефон (name="phone");
* Кнопка отправки формы (id="submitButton").
* div-контейнер с id="resultContainer" для вывода результата работы формы.

### 2. Поведение
При отправке формы должна срабатывать валидация полей по следующим правилам:
- ФИО: Ровно три слова.
- Email: Формат email-адреса, но только в доменах ya.ru, yandex.ru, yandex.ua, yandex.by, yandex.kz, yandex.com.
- Телефон: Номер телефона, который начинается на +7, и имеет формат +7(999)999-99-99. Кроме того, сумма всех цифр телефона не должна превышать 30. Например, для +7(111)222-33-11 сумма равняется 24, а для +7(222)444-55-66 сумма равняется 47.

Если валидация не прошла, соответствующим инпутам должен добавиться класс error с заданным стилем border: 1px solid red.
Если валидация прошла успешно, кнопка отправки формы должна стать неактивной и должен отправиться ajax-запрос на адрес, указанный в атрибуте action формы.*

Может быть 3 варианта ответа на запрос с разным поведением для каждого:
- **{"status":"success"}** – контейнеру resultContainer должен быть выставлен класс success и добавлено содержимое с текстом "Success"
- **{"status":"error","reason":String}** - контейнеру resultContainer должен быть выставлен класс error и добавлено содержимое с текстом из поля reason
- **{"status":"progress","timeout":Number}** - контейнеру resultContainer должен быть выставлен класс progress и через timeout миллисекунд необходимо повторить запрос (логика должна повторяться, пока в ответе не вернется отличный от progress статус)

*Для простоты тестирования сабмита формы можно выполнять запросы на статические файлы с разными подготовленными вариантами ответов (success.json, error.json, progress.json). Поднимать отдельный сервер с выдачей разных ответов будет избыточным.*

### 3. Глобальный объект
В глобальной области видимости должен быть определен объект `MyForm` с методами
- `validate() => { isValid: Boolean, errorFields: String[] }` - возвращает объект с признаком результата валидации (isValid) и массивом названий полей, которые не прошли валидацию (errorFields).
- `getData() => Object` - возвращает объект с данными формы, где имена свойств совпадают с именами инпутов.
- `setData(Object) => undefined` - принимает объект с данными формы и устанавливает их инпутам формы. Поля кроме phone, fio, email игнорируются.
- `submit() => undefined` - выполняет валидацию полей и отправку ajax-запроса, если валидация пройдена. Вызывается по клику на кнопку отправить.

В корне проекта обязательно должны присутствовать файлы
- /index.html — разметка страницы;
- /index.js – вся клиентская логика страницы.

*Для выполнения задания разрешается использовать любые сторонние фреймворки и библиотеки.
Также можно использовать любые современные спецификации, реализованные в последних версиях браузера Chrome.
Код должен работать локально без необходимости доступа в интернет. Это значит, что при использовании сторонних решений их нужно выкачивать в свой репозиторий.*

## Решение:
Хоть в задаче и было указано, что можно использовать любые фреймворки и библиотеки, я решил что это лишнее в контексте данного тестового задания. Вышеописанную задачу можно решить не прибегая к фреймворкам, и в этом случае оценка качества кода и понимание принципов ЯП будет куда прозрачнее.

Постарался по максимуму следовать пунктам задания. Единственное, не до конца понятен пункт 2 (раздел ajax). Непонятно каким методом должен отправляться запрос и нужно ли передавать в нём данные из формы. Учитывая, что в задании эти моменты упущены - отправляю GET запрос на JSON-файлы в каталоге responses без передачи данных.

Кроссбраузерность не гарантирована, т.к. в задании так же об этом не упоминалось. Работоспособность проверена на macOS Sierra 10.12.5 в браузере Chrome 59.0.3071.115.

Работоспособность можно проверить прямо в браузере, без необходимости клонировать репозиторий и запускать локальный сервер - [по этой ссылке](https://vsbeats.github.io/ya-school-test-assignment/)

По умолчанию action у формы указан progress. После отправки формы можно открыть инспектор, проверить работоспособность переотправки запроса по таймауту и через инспектор поменять action у формы на отличный от progress (error или success).
